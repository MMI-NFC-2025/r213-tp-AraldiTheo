---
interface Props {
    id: string;
    nomMaison: string;
    adresse: string;
    prix: number;
    nbChambres: number;
    nbSdb: number;
    surface: number;
    imgUrl: string;
    favori: boolean;
}

const { id, nomMaison, adresse, prix, nbChambres, nbSdb, surface, imgUrl, favori } = Astro.props;
---

<div class="offre bg-white rounded-lg shadow-md overflow-hidden hover:shadow-xl transition-shadow" data-favori={favori.toString()} data-id={id}>
    <div class="relative">
        <img 
            src={imgUrl} 
            alt={nomMaison} 
            class="w-full h-48 object-cover offre-image"
        />
        {favori && (
            <span class="absolute top-3 right-3 bg-red-500 text-white px-3 py-1 rounded-md text-sm font-semibold flex items-center gap-1">
                â­ Favori
            </span>
        )}
    </div>
    
    <div class="p-4 offre-content">
        <h3 class="text-xl font-bold text-gray-800 mb-2">{nomMaison}</h3>
        <p class="text-gray-600 text-sm mb-3">{adresse}</p>
        
        <p class="text-2xl font-bold text-green-600 mb-4">{prix}â‚¬/mois</p>
        
        <div class="flex flex-wrap gap-3 text-sm text-gray-700 border-t pt-3">
            <span class="flex items-center gap-1">
                <span>ğŸ›ï¸</span> {nbChambres} chambres
            </span>
            <span class="flex items-center gap-1">
                <span>ğŸš¿</span> {nbSdb} SDB
            </span>
            <span class="flex items-center gap-1">
                <span>ğŸ“</span> {surface}mÂ²
            </span>
        </div>
        
        <button 
            class="offre-favori-btn w-full mt-4 py-2 px-4 rounded-lg font-semibold transition-colors"
            class:list={[
                favori ? 'bg-red-500 text-white hover:bg-red-600' : 'bg-gray-200 text-gray-800 hover:bg-gray-300'
            ]}
            aria-label={favori ? 'Retirer des favoris' : 'Ajouter aux favoris'}
        >
            {favori ? 'â¤ï¸ Retirer des favoris' : 'ğŸ¤ Ajouter aux favoris'}
        </button>
    </div>
</div>

<style>
    .offre {
        transition: transform 0.3s ease;
    }
    
    .offre:hover {
        transform: translateY(-4px);
    }
</style>
